# /context

컨텍스트(토큰) 상태를 관리합니다.

## 사용법

```
/context [action]
```

## 액션

- `status` (기본): 현재 컨텍스트 상태 표시
- `update`: 컨텍스트 상태 업데이트
- `snapshot`: 컨텍스트 스냅샷 생성
- `history`: 스냅샷 히스토리 표시

## 컨텍스트 상태

```
/context
/context status
```

출력:
```
🧠 컨텍스트 상태
══════════════════════════════════════════════════

현재 상태:
  ████████████░░░░░░░░ 60%

╭──────────────────────────────────────────╮
│  남은 비율: 60%                          │
│  남은 토큰: 60,000                       │
│  사용 토큰: 40,000                       │
│  상태: warning                           │
╰──────────────────────────────────────────╯

임계값 설정:
  ⚠️  경고: 60%
  ⚡ 액션: 50%
  🚨 크리티컬: 40%

권장 조치:
  ⚠️ 컨텍스트 압축 권장
     /clear 또는 상태 저장 고려

마지막 업데이트: 2024-01-15T14:30:00
```

## 컨텍스트 업데이트

```
/context update --percent 75
/context update --tokens 75000
/context update --used 25000
```

## 스냅샷 생성

```
/context snapshot
/context snapshot -s 06-implementation
```

스냅샷 생성 시:
- 현재 컨텍스트 상태 저장
- `state/context/state_{id}.md` 복구 파일 생성
- 히스토리에 기록

## 임계값 동작

| 임계값 | 트리거 | 권장 조치 |
|--------|--------|----------|
| 60% (warning) | 경고 표시 | 불필요한 컨텍스트 정리 |
| 50% (action) | 자동 스냅샷 | 상태 저장, 압축 시작 |
| 40% (critical) | `/clear` 권고 | 강제 저장, 새 세션 시작 |

## 스냅샷 히스토리

```
/context history
```

출력:
```
📜 컨텍스트 스냅샷 히스토리
══════════════════════════════════════════════════

ctx_20240115_143000
  시간: 2024-01-15T14:30:00
  스테이지: 06-implementation
  트리거: manual
  컨텍스트: 60%

ctx_20240115_120000
  시간: 2024-01-15T12:00:00
  스테이지: 05-task-management
  트리거: threshold_action
  컨텍스트: 48%

──────────────────────────────────────────────────
총 2개 스냅샷
```
